package lesson6.task1

import org.junit.jupiter.api.Assertions.assertEquals
import org.junit.jupiter.api.Assertions.assertThrows
import org.junit.jupiter.api.Tag
import org.junit.jupiter.api.Test

class Tests {
    @Test
    @Tag("Example")
    fun timeStrToSeconds() {
        assertEquals(36000, timeStrToSeconds("10:00:00"))
        assertEquals(41685, timeStrToSeconds("11:34:45"))
        assertEquals(86399, timeStrToSeconds("23:59:59"))
    }

    @Test
    @Tag("Example")
    fun twoDigitStr() {
        assertEquals("00", twoDigitStr(0))
        assertEquals("09", twoDigitStr(9))
        assertEquals("10", twoDigitStr(10))
        assertEquals("99", twoDigitStr(99))
    }

    @Test
    @Tag("Example")
    fun timeSecondsToStr() {
        assertEquals("10:00:00", timeSecondsToStr(36000))
        assertEquals("11:34:45", timeSecondsToStr(41685))
        assertEquals("23:59:59", timeSecondsToStr(86399))
    }

    @Test
    @Tag("Normal")
    fun dateStrToDigit() {
        assertEquals("15.07.2016", dateStrToDigit("15 июля 2016"))
        assertEquals("", dateStrToDigit("3 мартобря 1918"))
        assertEquals("18.11.2018", dateStrToDigit("18 ноября 2018"))
        assertEquals("", dateStrToDigit("23"))
        assertEquals("03.04.2011", dateStrToDigit("3 апреля 2011"))
        assertEquals("", dateStrToDigit("32 сентября 2011"))
        assertEquals("", dateStrToDigit("29 февраля 1993"))
        assertEquals("28.08.1", dateStrToDigit("28 августа 1"))
    }

    @Test
    @Tag("Normal")
    fun dateDigitToStr() {
        assertEquals("15 июля 2016", dateDigitToStr("15.07.2016"))
        assertEquals("", dateDigitToStr("01.02.20.19"))
        assertEquals("", dateDigitToStr("28.00.2000"))
        assertEquals("3 апреля 2011", dateDigitToStr("03.04.2011"))
        assertEquals("", dateDigitToStr("ab.cd.ef"))
        assertEquals("", dateStrToDigit("32.09.2011"))
        assertEquals("", dateStrToDigit("29.02.1993"))
        assertEquals("20 февраля 2", dateDigitToStr("20.02.2"))
    }

    @Test
    @Tag("Normal")
    fun flattenPhoneNumber() {
        assertEquals("+79211234567", flattenPhoneNumber("+7 (921) 123-45-67"))
        assertEquals("123456798", flattenPhoneNumber("12 --  34- 5 -- 67 -98"))
        assertEquals("", flattenPhoneNumber("ab-123"))
        assertEquals("+12345", flattenPhoneNumber("+12 (3) 4-5"))
        assertEquals("", flattenPhoneNumber("134_+874"))
    }

    @Test
    @Tag("Normal")
    fun bestLongJump() {
        assertEquals(717, bestLongJump("706 % - 717 - 703"))
        assertEquals(-1, bestLongJump("% - - % -"))
        assertEquals(754, bestLongJump("700 717 707 % 754"))
        assertEquals(-1, bestLongJump("700 + 700"))
        assertEquals(-1, bestLongJump("39.9\""))

    }

    @Test
    @Tag("Hard")
    fun bestHighJump() {
        assertEquals(226, bestHighJump("226 +"))
        assertEquals(-1, bestHighJump("???"))
        assertEquals(230, bestHighJump("220 + 224 %+ 228 %- 230 + 232 %%- 234 %"))
        assertEquals(993382926, bestHighJump("0 %- 1 %- 147483648 + 938854463 %%- 494728897 %%+ 21881946 %%+ 988037268 + 0 + 835982137 %%- 812878942 %+ 1 %- 1 %+ 147483647 %%+ 147483648 %%+ 1 %%+ 0 %%- 0 + 658275129 %%+ 305241036 + 65157593 + 938805432 %%- 802576413 %%- 969753729 %+ 930911116 %%- 902305422 %+ 1 %- 0 + 147483648 %+ 147483647 %%+ 147483647 %- 359133559 %%- 147483647 %%- 147483647 %%- 906612453 %+ 890793835 %%- 1 %%+ 264193022 + 147483647 %+ 147483647 %%- 1 %+ 147483648 %- 147483648 %- 147483647 + 0 + 854541920 %- 808414898 %- 585429925 %%- 957754539 %- 911852172 + 727268561 + 1 %+ 88963100 %%+ 147483648 + 0 %%- 1 %+ 0 %+ 147483648 %+ 765111894 %%- 95623338 %%+ 0 %%- 1 %+ 892834984 + 8541768 %- 556166242 %+ 814154622 %+ 932143315 %- 821388793 %%- 147483647 %%+ 548765468 %+ 1 %- 147483648 %- 147483647 %+ 147483648 %+ 1 %- 422421362 %%+ 1 %- 639267208 %%+ 147483648 %- 147483648 %+ 1 %- 147483648 %%- 0 %- 147483647 %+ 87687458 %- 147483648 + 1 %%+ 147483648 %%- 147483647 %%- 839017649 + 147483648 + 147483647 + 147483648 %+ 147483647 + 147483647 %+ 763036503 %%- 1 + 381250752 %+ 0 %+ 147483648 %%+ 625517071 %%- 159195388 %+ 147483647 %%- 854111029 %+ 496536856 %- 0 %+ 244877159 %%- 235589779 %+ 380813002 + 457466093 %%- 1 %+ 149423600 %- 1 %%- 0 %- 0 + 147483648 %%- 147483648 %+ 147483647 + 443944586 %%- 147483648 %- 0 %- 252756765 + 833452601 %- 21487409 %%- 1 %%- 147483647 %%- 871486624 %- 352346795 %- 147483648 %- 388372916 %+ 147483647 %+ 147483647 %- 147483647 %+ 1 %%+ 0 %%- 147483647 %%- 642583591 %%+ 0 %+ 534478451 %- 275816672 %- 147483647 %- 361372240 %- 0 %- 57757421 %+ 147483647 %- 838939689 %- 0 + 1 %+ 1 %+ 265556180 + 0 %+ 0 + 519882214 %+ 147483648 %+ 726463004 %%- 147483647 %+ 926216651 + 1 %+ 147483647 %- 797989962 + 1 %- 224623015 %+ 147483648 %+ 147483647 %- 1 %+ 312396622 %%- 147483648 %%+ 147483647 %%- 147483648 %%- 1 %+ 147483647 %- 699624227 + 147483648 %+ 147483648 %- 147483647 %+ 1 %- 67388888 + 147483647 %- 26849895 + 30957993 + 137773338 + 759663209 + 147483647 + 147483648 %+ 1 %%- 147483648 %- 147483648 %+ 147483648 %%- 147483647 %- 1 %+ 1 %- 93306133 + 147483648 + 844006826 + 1 %- 823212469 + 55655950 %%- 147483647 %+ 147483647 + 147483648 %+ 147483648 %- 33949549 %%- 808523911 %%- 147483647 + 536194713 %- 1 %+ 723686579 %%+ 522174730 %%+ 681741299 + 459013999 + 70967706 %+ 147483647 %- 659994400 + 1 + 966341499 %%+ 0 + 0 %+ 0 %%- 147483648 %%- 270630479 + 100660241 %+ 147483647 %- 1 %+ 0 + 1 %%- 1 %+ 689806174 %%- 447158254 %%+ 73036705 %%- 594088637 + 147483648 %- 195256764 %%- 147483647 %%- 797862271 %- 0 %- 1 + 1 %%- 0 %+ 147483647 %- 147483647 %%+ 775337732 %+ 0 %- 1 %%- 1 %%+ 147483648 + 151626394 %- 1 %%- 651063924 + 147483647 %- 976187788 %%- 106447051 %- 147483648 %+ 828905112 + 0 %%+ 67887936 %%- 130886653 %%- 0 %+ 989299187 + 578426975 + 1 %+ 147483648 %- 536238577 %- 1 %%- 0 %- 0 + 0 %%- 822454872 %- 147483647 %%- 147483648 %+ 0 %+ 978200213 %+ 68127313 %+ 1 %%- 0 %%- 1 + 1 %+ 0 %+ 1 %- 147483648 %+ 147483647 %- 130575652 + 147483647 %- 73847952 %%- 147483647 %%+ 345835737 %%+ 0 + 147483648 %%- 299635852 + 147483647 %- 1 %- 376290080 %%- 147483648 %%+ 0 %+ 879102685 %- 106571364 + 0 %+ 147483647 + 147483648 + 1 %+ 0 %%- 130531141 %+ 1 %- 0 %%+ 0 %+ 524358393 %%- 282023740 + 147483648 %- 597486083 %%- 204073811 + 147483647 %+ 245824495 + 558854375 %- 147483647 %%- 1 + 941386341 %- 147483648 + 829099254 %- 0 %%- 0 %+ 147483648 %+ 147483647 %- 1 %%- 421515311 + 853513857 %%- 1 %%- 446209987 %- 612192040 %+ 618032388 + 1 %%+ 147483648 %+ 133689147 %- 767423566 %%+ 147483648 %%+ 147483648 %+ 0 %%- 147483648 %- 163715345 %+ 0 %- 1 %- 147483648 %+ 794024774 %+ 388830431 + 0 %- 955051735 %%- 1 %%- 147483647 + 147483648 %%- 147483648 %+ 0 + 147483648 %%- 0 %- 147483648 %- 147483647 %- 1 %%- 242824172 + 353496769 + 147483647 %%+ 147483648 %- 147483648 %- 0 + 973949131 %+ 147483648 %- 425276307 %- 147483647 + 271909885 %%- 485192367 %- 899471286 %+ 147483648 %%- 818758417 %+ 147483648 %%- 147483648 %+ 147483647 %%- 1 %- 147483647 %- 887319093 %%- 170402609 %%- 147483648 + 0 %%- 966849318 %+ 147483648 %- 493784984 %%+ 147483647 %+ 179149369 %+ 71072286 + 1 %%- 771692436 + 0 %%- 734006970 %- 0 + 607436733 %+ 683286878 %+ 305030473 + 147483648 %%+ 147483647 + 1 + 1 %+ 147483647 + 147483648 %+ 472918037 %%- 354490995 %- 118220579 %+ 614834726 %+ 62680355 + 380330689 %- 147483648 %%- 576126772 + 0 %%- 1 %%- 0 %+ 147483647 %%- 1 %- 147483647 %+ 339930175 + 0 %%+ 1 %%- 395558412 + 0 %%- 1 %- 443805806 %%- 135126457 + 714332268 %- 0 %+ 1 %+ 147483648 %%- 1 + 136016840 %%- 0 %+ 928851814 + 0 %%- 147483648 %+ 1 %- 147483647 %%- 147483647 %%- 147483647 + 1 %- 509594357 %+ 147483647 %+ 1 %%- 67792976 + 0 + 1 %%- 627269463 %+ 641074513 %- 302989834 %- 1 + 23774000 + 147483648 + 832091685 %- 0 %- 1 %- 780211498 + 1 %- 61538797 + 1 %%- 201072411 %+ 0 %+ 689394194 %+ 599261802 %+ 0 %%+ 167819481 %+ 147483647 %+ 1 %%- 147483648 %%- 147483648 %+ 694626835 %%- 0 %%+ 1 %+ 552235555 %%- 751823238 %+ 1 %- 462199744 %+ 81227113 %%- 749081359 %- 147483647 + 1 + 1 %- 147483648 + 1 %- 836996624 %+ 0 %+ 154766400 %- 279372437 %%- 147483647 %%- 147483648 %+ 0 + 147483648 %%- 835113147 %%- 388832530 %%- 147483647 + 466077159 + 0 + 0 %- 147483647 %%+ 284760642 %- 147483647 + 289221376 %- 147483648 %+ 1 %+ 147483648 %+ 338317734 %+ 1 %%- 0 %- 0 %- 147483647 %%+ 0 + 580721274 + 73674285 %- 102589672 %%+ 147483647 %%- 868617072 %%- 274583234 %+ 147483647 + 147483648 %%- 433468158 %- 742116911 %+ 1 + 147483647 %- 722267593 + 0 %- 443963497 %+ 1 %+ 147483648 + 209713393 %%+ 295554955 %- 147483647 %%- 466616454 %%- 661389448 + 631244967 %+ 147483647 %%- 147483647 %- 462626335 %%+ 1 %+ 1 + 583927037 %%- 147483647 %- 484314165 + 1 %%- 147483648 %%- 1 %%- 147483647 %%- 63264702 %%- 522325796 + 1 + 147483648 + 590226394 %%- 1 + 28553759 %- 147483648 %+ 0 %%- 62120296 + 978943558 %+ 147483647 %+ 952663367 %%+ 991555235 %- 845609750 %+ 407769070 %%+ 147483647 %%+ 147483648 + 860775794 + 931417187 + 813823360 %%+ 147483647 %+ 147483647 %- 147483648 %+ 0 %%- 857663232 + 589486555 %%+ 0 %%- 147483647 %- 147483647 %%+ 682576715 %%- 0 %+ 0 + 832333294 %%- 0 %%+ 960533138 %- 749534906 %%- 147483648 %%- 448699933 %- 0 %%- 147483648 %%- 1 %+ 204927511 %%+ 0 %+ 301523281 %%- 147483648 %+ 1 %+ 1577916 %+ 621758407 %+ 147483647 %- 943852312 %%+ 137178660 + 0 %%- 147483648 + 147483648 %- 147483647 + 0 + 335448246 + 568227528 %%+ 147483648 %%+ 1 %%- 147483648 %- 795287267 %%- 139387198 %- 1 %- 1 %- 440294303 %- 243513512 %%- 368025985 %- 0 + 989027120 %%- 0 %+ 123128401 %- 482366292 + 1 %%- 30505821 + 672023151 %+ 147483647 %%- 95676602 %%- 667481154 + 147483647 %- 147483647 %%+ 463293677 %+ 197085930 + 588110592 %%- 147483647 %+ 147483648 %- 147483648 %%- 43877803 + 312582984 + 430901374 %- 640109762 %- 421789270 %+ 147483647 + 147483648 + 582371207 %- 96458923 %+ 478943209 %+ 279696887 + 1 %- 147483647 %+ 358066394 + 927524181 %%+ 147483647 + 0 %%- 147483648 %%+ 0 %+ 147483648 %%- 533374156 + 531199597 %%- 1 %%+ 815869781 %%+ 147483647 %%- 147483647 + 973924582 %+ 158986555 %%- 1 %%+ 487892723 + 759334261 + 147483647 %%- 211270956 %%- 483618265 + 0 + 147483647 %%+ 1 %%- 147483648 %- 1 + 96946311 + 275615974 + 359533571 %+ 147483647 %- 560739269 %+ 953641283 + 730446022 %- 0 %+ 147483648 %%+ 903951098 %+ 860220513 %- 0 %%+ 386498715 %+ 1 + 147483648 %%+ 0 + 147483647 %%+ 225473341 + 147483647 %%+ 147483648 %%- 1 %%- 0 %+ 0 %%- 0 + 489073220 + 0 %- 1 %%- 12918892 %- 147483648 %%- 147483648 %+ 128805234 %%- 128490911 %+ 147483648 %%+ 147483648 %%- 621526134 %+ 147483647 %+ 902802043 %- 147483647 %- 147483647 %- 148352177 %%+ 0 + 636458839 %%- 147483648 %+ 666821886 %+ 0 %%- 515931713 + 147483647 %+ 577724743 + 702719466 %- 1 %- 147483648 %- 160603595 %- 147483647 %- 147483647 %+ 147483647 %%- 147483648 %- 0 %- 861898952 %- 0 + 0 %+ 643128047 %%+ 147483647 %+ 1 %%- 0 %- 1 + 620401101 %%- 608122979 %%+ 768807444 %%+ 452573469 %- 147483648 + 598828296 + 816648107 %+ 0 %+ 1 + 461000597 + 993382926 %+ 1 %%+ 902882595 %+ 1 %- 147483648 %- 589818761 %%- 692570767 %%- 147483647 %- 147483647 %+ 0 %%- 1 + 519292758 + 0 %+ 29431341 %%- 1 %%- 147483647 %%+ 0 %+ 147483647 %- 609681685 %- 925790846 %- 852302377 %+ 35008550 + 72952312 + 147483648 %%- 0 %+ 0 %%- 22688474 %%- 1 + 731655961 + 118736065 %- 147483647 %+ 147483647 %+ 239893119 %%- 147483648 %%+ 147483647 + 1 %%- 770516877 %+ 0 %%+ 147483647 %- 147483647 + 116653497 + 0 + 147483647 + 864975417 %%- 147483648 + 147483648 %- 701323490 %+ 259918494 %- 147483648 %%+ 0 + 249471062 + 0 %+ 92845090 %%+ 1 + 944409001 + 487574119 + 510738175 + 1 %- 147483648 %+ 507996377 %- 147483647 %+ 618150092 + 774264543 + 826743043 %- 63482881 %%- 0 %+ 767183806 %- 1 %%- 147483647 %- 23729803 %+ 279318608 %+ 147483647 + 555466628 + 147483647 %+ 378883617 %+ 0 %%- 1 %%+ 1 %- 1 %- 1 %%- 0 + 1 %- 17110983 %%+ 1 %- 549653878 %%- 1 + 526920437 %+ 481873140 %+ 147483647 %%- 1 %+ 147483647 %%- 1 %- 278016681 %+ 90451218 + 326481343 + 147483648 %- 690527804 %+ 251734518 %%- 354118849 %+ 697037305 %+ 547253109 %- 59369787 + 1 + 1 %%- 721662698 %- 147483647 %- 569739317 %%+ 1 + 275516811 + 0 %%- 147483648 %%- 1 %%- 17856067 + 147483648 %- 687778766 %+ 0 %+ 618914304 %+ 260248022 %+ 718427827 %+ 147483648 + 191655288 %%- 1 %%+ 879959340 %- 345925431 %%- 0 %+ 912215808 %%- 63222379 %- 147483647 %%- 729338710 %- 147483648 + 0 %+ 787159366 + 688751848 %- 1 %- 147483647 %- 892877239 + 1 %- 1 %+ 250119064 %%- 1 + 514257024 %+ 22972859 %- 20817726 %- 147483648 %%- 147483647 %- 0 + 312692155 %%+ 408168480 %- 1 + 244179593 %%- 57912494 %+ 1 %- 132105961 %%- 574222750 %- 0 %+ 0 %- 633353548 %%+ 313934081 + 1 %%+ 218873378 %+ 1 + 5347496 %%+ 1 %+ 824264500 %- 0 + 891621304 %- 147483648 %+ 216836375 %+ 1 %+ 48828322 %%+ 954883607 %- 147483647 %- 44148994 %- 734420845 + 994201027 %%- 0 %+ 641248537 %%- 788252669 %%- 0 %- 147483647 %+ 147483648 %%- 33577366 %- 6214822 %- 522689012 %%- 147483648 + 147483647 + 147483647 + 640747544 + 127956214 + 579740655 %- 147483647 + 147483648 + 147483648 + 489638316 %+ 940767120 %+ 837951130 %%+ 0 %+ 287749568 %%- 1 %+ 1 %+ 133049238 %%+ 1 %%- 153712222 + 147483647 %%- 1 %+ 218097356 + 147483647 + 669871372 %- 147483648 %- 976756859 %+ 147483648 %+ 0 %%- 0 %+ 873031566 %+ 701462202 %%- 0 + 147483647 + 147483647 + 1 %- 487111262 %- 1 %+ 63931118 %+ 14465452 %%- 147483648 %%+ 147483647 + 147483648 %%- 147483648 %- 0 %+ 102825369 %- 0 + 173291866 %%- 18684695 %+ 0 %%- 815549415 %%- 876663030 %+ 147483647 %- 978387784 %%- 1 + 551045332 %%- 164922432 %- 469914741 %+ 147483648 %%- 147483647 %%- 230153604 %- 780762674 + 919641917 %%+ 147483648 + 724854621 %- 1 %- 339230530 %+ 730072817 %%- 0 %+ 0 %%- 0 + 147483647 %- 613321920 %- 441962501 + 0 + 722578848 %- 146921042 %- 666645576 + 478738545 %- 194555444 %- 147483647 %%+ 58899577 %- 731330364 %+ 344021884 %- 0 %%- 0 %%- 0 %%+ 44644085 %- 147483647 + 147483648 %+ 66792572 + 319989668 %- 1 %+ 1 %- 147483648 %+ 1 %- 0 + 350683283 %%+ 0 %+ 147483647 %%+ 1 %- 624668656 %- 625909401 %- 1 + 0 %+ 147483647 %+ 147483647 %+ 147483647 %%+ 951060593 %+ 147483647 %%- 147483647 %%- 986507556 %+ 147483647 %- 1 %- 517318565 %%- 788913563 + 147483648 %+ 0 %+ 0 %- 950102854 %%- 1 %+ 0 %%- 0 %+ 147483648 %%- 0 + 1 + 896405030 %+ 147483647 + 565581273 %%- 102965223 %- 855793079 %%- 1 %%- 1 + 147483647 + 772185510 %+ 143656879 %+ 630000370 %%- 1 %%- 1 %+ 147483648 %- 147483648 %- 147483648 + 940799225 %%+ 197861275 + 961448406 + 0 %- 0 + 1 + 17806164 %%- 1 %%+ 255955183 %%- 1 %+ 1 %%- 171355069 %- 91081343 %%- 1 %- 342133914 %%- 284068133 %+ 147483648 + 0 %+ 107770894 %- 1542664 %%- 147483648 %%- 255453512 %%- 682882125 %+ 163727863 %- 325684134 %- 445874971 %+ 147483647 %- 147483648 %%- 1 %%- 308811482 %%- 719082964 %%- 526425518 + 147483648 + 34070323 %%- 147483648 %%+ 0 %- 0 %- 175031631 + 887732168 %+ 329722489 %- 147483647 %+ 1 %- 0 + 826273884 %%+ 1 %+ 147483648 + 0 %+ 391720181 %+ 147483647 %%- 900843004 %%- 687324581 %+ 0 %- 722934093 %+"))
    }

    @Test
    @Tag("Hard")
    fun plusMinus() {
        assertEquals(0, plusMinus("0"))
        assertEquals(4, plusMinus("2 + 2"))
        assertEquals(6, plusMinus("2 + 31 - 40 + 13"))
        assertEquals(-1, plusMinus("0 - 1"))
        assertThrows(IllegalArgumentException::class.java) { plusMinus("+2") }
        assertThrows(IllegalArgumentException::class.java) { plusMinus("+ 4") }
        assertThrows(IllegalArgumentException::class.java) { plusMinus("4 - -2") }
        assertThrows(IllegalArgumentException::class.java) { plusMinus("44 - - 12") }
        assertThrows(IllegalArgumentException::class.java) { plusMinus("4 - + 12") }
    }

    @Test
    @Tag("Hard")
    fun firstDuplicateIndex() {
        assertEquals(-1, firstDuplicateIndex("Привет"))
        assertEquals(9, firstDuplicateIndex("Он пошёл в в школу"))
        assertEquals(40, firstDuplicateIndex("Яблоко упало на ветку с ветки оно упало на на землю"))
        assertEquals(9, firstDuplicateIndex("Мы пошли прямо Прямо располагался магазин"))
    }

    @Test
    @Tag("Hard")
    fun mostExpensive() {
        assertEquals("", mostExpensive(""))
        assertEquals("Курица", mostExpensive("Хлеб 39.9; Молоко 62.5; Курица 184.0; Конфеты 89.9"))
        assertEquals("Вино", mostExpensive("Вино 255.0"))
        assertEquals("d", mostExpensive(",W4+ZGU%9y{[o%PGdZ{Sa%}Vub\$8}rP~ItPa-,kBZDyfz0z%\\\"Mh6h!_Gx(invI~>GUCk>X*pBht?Sy>+kL]#-3d)8D 0; d 0.01"))
    }

    @Test
    @Tag("Hard")
    fun fromRoman() {
        assertEquals(1, fromRoman("I"))
        assertEquals(3000, fromRoman("MMM"))
        assertEquals(1978, fromRoman("MCMLXXVIII"))
        assertEquals(694, fromRoman("DCXCIV"))
        assertEquals(49, fromRoman("XLIX"))
        assertEquals(-1, fromRoman("Z"))
    }

    @Test
    @Tag("Impossible")
    fun computeDeviceCells() {
        assertEquals(listOf(0, 0, 0, 0, 0, 1, 1, 1, 1, 1), computeDeviceCells(10, "+>+>+>+>+", 10000))
        assertEquals(listOf(-1, -1, -1, -1, -1, 0, 0, 0, 0, 0), computeDeviceCells(10, "<-<-<-<-<-", 10000))
        assertEquals(listOf(1, 1, 1, 1, 1, 0, 0, 0, 0, 0), computeDeviceCells(10, "- <<<<< +[>+]", 10000))
        assertEquals(listOf(0, 8, 7, 6, 5, 4, 3, 2, 1, 0, 0),
                computeDeviceCells(11, "<<<<< + >>>>>>>>>> --[<-] >+[>+] >++[--< <[<] >+[>+] >++]", 10000))

        assertEquals(listOf(0, 0, 0, 0, 0, 1, 1, 0, 0, 0), computeDeviceCells(10, "+>+>+>+>+", 4))
        assertEquals(listOf(0, 0, -1, -1, -1, 0, 0, 0, 0, 0), computeDeviceCells(10, "<-<-<-<-<-", 6))
        assertEquals(listOf(1, 1, 1, 0, 0, -1, 0, 0, 0, 0), computeDeviceCells(10, "- <<<<< +[>+]", 17))
        assertEquals(listOf(0, 6, 5, 4, 3, 2, 1, 0, -1, -1, -2),
                computeDeviceCells(11, "<<<<< + >>>>>>>>>> --[<-] >+[>+] >++[--< <[<] >+[>+] >++]", 256))
        assertThrows(IllegalArgumentException::class.java) { computeDeviceCells(10, "===", 3) }
        assertThrows(IllegalArgumentException::class.java) { computeDeviceCells(10, "+>+>[+>", 3) }
        assertThrows(IllegalStateException::class.java) { computeDeviceCells(20, ">>>>>>>>>>>>>", 12) }
    }
}